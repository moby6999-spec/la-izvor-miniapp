<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Izvor â€¢ ComandÄƒ Online</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root{
 --bg:#0e0e0e;
 --card:#1a1a1a;
 --gold:#d4af37;
 --gold-soft:#b8962e;
 --text:#ffffff;
 --muted:#bdbdbd;
 --danger:#ef4444;
 --ok:#22c55e;
 --blue:#3b82f6;
}
*{box-sizing:border-box;font-family:Inter,Arial,sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}
header{padding:16px;text-align:center;font-size:20px;font-weight:800;color:var(--gold)}
.small{font-size:12px;color:var(--muted)}

#categories{display:flex;gap:10px;overflow-x:auto;padding:10px}
.cat{
 padding:10px 16px;border-radius:999px;background:var(--card);
 border:1px solid var(--gold-soft);white-space:nowrap;cursor:pointer
}
.cat.active{background:var(--gold);color:#000;font-weight:800}

#products{padding:10px;display:grid;grid-template-columns:1fr;gap:12px}
.card{background:var(--card);border-radius:16px;padding:14px}
.price{color:var(--gold);font-weight:800}

.btn{
 margin-top:10px;width:100%;padding:12px;border:none;border-radius:999px;
 background:linear-gradient(135deg,var(--gold),var(--gold-soft));
 color:#000;font-weight:900;cursor:pointer
}
</style>
</head>

<body>

<header>
 â˜• La Izvor<br>
 <span class="small">ðŸ“ž 069 878 819</span>
</header>

<div id="categories"></div>
<div id="products"></div>

<div style="padding:10px">
 <button class="btn" onclick="sendTest()">ðŸ“¨ Trimite TEST cÄƒtre bot</button>
</div>

<script>
// Telegram
const TG = window.Telegram?.WebApp || null;
if(TG){ TG.ready(); TG.expand(); }

// DATA
const menu = {
 'BÄƒuturi â€“ Cafea': [
  {n:'Americano',p:25},{n:'Espresso',p:25},{n:'Cappuccino',p:30},{n:'Latte',p:30}
 ],
 'Ceai': [
  {n:'Ceai Julius Meinl',p:20},{n:'Ceai natural 400 ml',p:35}
 ]
};

let cart=[];

const catDiv=document.getElementById('categories');
const prodDiv=document.getElementById('products');

// UI
function renderCategories(){
 catDiv.innerHTML='';
 Object.keys(menu).forEach((c,i)=>{
  const d=document.createElement('div');
  d.className='cat'+(i===0?' active':'');
  d.innerText=c;
  d.onclick=()=>selectCat(c,d);
  catDiv.appendChild(d);
 });
 selectCat(Object.keys(menu)[0],catDiv.firstChild);
}

function selectCat(cat,el){
 document.querySelectorAll('.cat').forEach(x=>x.classList.remove('active'));
 el.classList.add('active');
 prodDiv.innerHTML='';
 menu[cat].forEach(p=>{
  prodDiv.innerHTML+=`
   <div class="card">
    <strong>${p.n}</strong>
    <div class="price">${p.p} lei</div>
    <button class="btn" onclick="add('${p.n}',${p.p})">AdaugÄƒ</button>
   </div>`;
 });
}

function add(n,p){
 const i=cart.find(x=>x.n===n);
 i?i.q++:cart.push({n,p,q:1});
}

function sendTest(){
 alert('DEBUG: TEST');
 if(TG && TG.sendData){
  TG.sendData(JSON.stringify({type:'TEST',ts:Date.now()}));
  TG.close();
 }
}

// INIT
renderCategories();
</script>

</body>
</html>
